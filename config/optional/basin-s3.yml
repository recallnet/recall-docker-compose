services:
  basin-s3:
    image: $basin_s3_image
    restart: always
    env_file:
      - ./config/services/faucet.env
    environment:
      HOST: 0.0.0.0
      PORT: "8014"
      ACCESS_KEY: $basin_s3_access_key
      SECRET_KEY: $basin_s3_secret_key
      DOMAIN_NAME: $basin_s3_domain_name
      METRICS_LISTEN_ADDRESS: "0.0.0.0:9090"
      RUST_LOG: basin_s3=info

      NETWORK: custom
      SUBNET_ID: "$subnet_id"
      RPC_URL: "http://cometbft:26657"
      OBJECT_API_URL: http://objects:8001

    depends_on:
      - cometbft
      - objects
